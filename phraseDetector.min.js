function playBeep() { let e = new (window.AudioContext || window.webkitAudioContext), t = e.createOscillator(), o = e.createGain(); t.connect(o), o.connect(e.destination), t.type = "square", t.frequency.value = 1e3, o.gain.value = .5, t.start(), t.stop(e.currentTime + .8) } function flashScreen(e) {
    if (document.getElementById("flash-alert")) return; let t = document.createElement("div"); t.id = "flash-alert", Object.assign(t.style, { position: "fixed", top: "0", left: "0", width: "100vw", height: "100vh", backgroundColor: "red", opacity: "0.8", zIndex: "999999", display: "flex", justifyContent: "center", alignItems: "center", color: "white", fontSize: "48px", fontWeight: "bold", textAlign: "center" }), t.innerText = `⚠ ALERT: Keyword Detected! ⚠
Matched Word: ${e}`, document.body.appendChild(t); let o = !0, n = setInterval(() => { o = !o, t.style.opacity = o ? "0.8" : "0" }, 300); setTimeout(() => { clearInterval(n), t.remove() }, 5e3)
} function watchCaptionsWithAlert(e, t, o = 1e3) { let n = e.map(e => e.toLowerCase()), r = new WeakSet; function a(e) { if (!e.matches || !e.matches('span[data-tid="closed-caption-text"]') || r.has(e)) return; r.add(e); let a = e.textContent.trim(), i; function d() { let o = e.textContent.trim(), r = o.toLowerCase(), a = n.find(e => r.includes(e)); a && (playBeep(), flashScreen(a), t && t(o)) } let l = new MutationObserver(function t() { let n = e.textContent.trim(); n !== a && (a = n, clearTimeout(i), i = setTimeout(d, o)) }); l.observe(e, { characterData: !0, subtree: !0, childList: !0 }), i = setTimeout(d, o) } document.querySelectorAll('span[data-tid="closed-caption-text"]').forEach(a); let i = new MutationObserver(e => { for (let t of e) for (let o of t.addedNodes) 1 === o.nodeType && (a(o), o.querySelectorAll?.('span[data-tid="closed-caption-text"]').forEach(a)) }); return i.observe(document.body, { childList: !0, subtree: !0 }), () => i.disconnect() } const keywords = ["Teodor", "Theodore", "Todor", "Tudor", "Theo", "Tio", "Odor", "Dale", "Front-end team", "Frontend team", "Front-end side", "Front end"], stop = watchCaptionsWithAlert(keywords, e => { console.log("Keyword detected in caption:", e) });